        //var 
		
		if (typeof web3 !== 'undefined') {
            web3 = new Web3(web3.currentProvider);
        } else {
           web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
        }

		web3.eth.defaultAccount = web3.eth.accounts[0];
		var bankcontractContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"getBanksCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"sBankName","type":"string"},{"name":"sAccNo","type":"uint256"}],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"uName","type":"string"}],"name":"addUserAccount","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"bankName","type":"string"},{"name":"accountNumber","type":"uint256"},{"name":"balance","type":"uint256"}],"name":"addBank","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]);
		var bankcontract = bankcontractContract.new(
		   {
			 from: web3.eth.accounts[0], 
			 data: '0x6060604052341561000f57600080fd5b6108cf8061001e6000396000f300606060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063484e50c0146100675780635b70986114610090578063721640651461010a578063d9a6c675146101a7575b600080fd5b341561007257600080fd5b61007a61022a565b6040518082815260200191505060405180910390f35b341561009b57600080fd5b6100f4600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091908035906020019091905050610237565b6040518082815260200191505060405180910390f35b341561011557600080fd5b610165600480803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506103c0565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156101b257600080fd5b610214600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091908035906020019091908035906020019091905050610484565b6040518082815260200191505060405180910390f35b6000600180549050905090565b600080600060018054905011156103b457600090505b6001805490508110156103b3578260018281548110151561026a57fe5b9060005260206000209060030201600101541480156103795750836040518082805190602001908083835b6020831015156102ba5780518252602082019150602081019050602083039250610295565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019166001828154811015156102fa57fe5b906000526020600020906003020160000160405180828054600181600116156101000203166002900480156103665780601f10610344576101008083540402835291820191610366565b820191906000526020600020905b815481529060010190602001808311610352575b5050915050604051809103902060001916145b156103a65760018181548110151561038d57fe5b90600052602060002090600302016002015491506103b9565b808060010191505061024d565b5b600091505b5092915050565b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020826040518082805190602001908083835b6020831015156104365780518252602082019150602081019050602083039250610411565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480919060010161047b91906106d7565b50339050919050565b600080600080600092506001805490509150600082111561062e57600090505b8181101561061457856001828154811015156104bc57fe5b9060005260206000209060030201600101541480156105cb5750866040518082805190602001908083835b60208310151561050c57805182526020820191506020810190506020830392506104e7565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660018281548110151561054c57fe5b906000526020600020906003020160000160405180828054600181600116156101000203166002900480156105b85780601f106105965761010080835404028352918201916105b8565b820191906000526020600020905b8154815290600101906020018083116105a4575b5050915050604051809103902060001916145b1561060757846001828154811015156105e057fe5b90600052602060002090600302016002016000828254019250508190555060019250610614565b80806001019150506104a4565b82151561062957610628878787600161064e565b5b61063c565b61063b878787600161064e565b5b60018054905093505050509392505050565b610656610709565b84816000018190525083816020018181525050828160400181815250508180548060010182816106869190610731565b9160005260206000209060030201600083909190915060008201518160000190805190602001906106b8929190610763565b5060208201518160010155604082015181600201555050505050505050565b8154818355818115116107045760030281600302836000526020600020918201910161070391906107e3565b5b505050565b60606040519081016040528061071d610822565b815260200160008152602001600081525090565b81548183558181151161075e5760030281600302836000526020600020918201910161075d91906107e3565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106107a457805160ff19168380011785556107d2565b828001600101855582156107d2579182015b828111156107d15782518255916020019190600101906107b6565b5b5090506107df9190610836565b5090565b61081f91905b8082111561081b5760008082016000610802919061085b565b60018201600090556002820160009055506003016107e9565b5090565b90565b602060405190810160405280600081525090565b61085891905b8082111561085457600081600090555060010161083c565b5090565b90565b50805460018160011615610100020316600290046000825580601f1061088157506108a0565b601f01602090049060005260206000209081019061089f9190610836565b5b505600a165627a7a72305820e759cef3f3a42fe9859dd3b843930b698ff16b62fedb424a18abad89dc84ce580029', 
			 gas: '4700000'
		   }, function (e, contract){
			console.log(e, contract);
			if (typeof contract.address !== 'undefined') {
				console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
			}
		 })
		 
		
		function hideBankDetailsFunction() {
		    $("#banktable").hide();
			$("#balanceLable").hide();
			$("#balance").hide();
		}
		
		$("#createUserAcc").click(function() {
			var username = $("#uName").val();
			var password = $("#uPasscode").val();
            if(jQuery.trim(username).length > 0 && jQuery.trim(password).length > 0)
             {
				var userAdd = web3.personal.newAccount($("#uPasscode").val());
				$("#addressLable").append("<b>"+userAdd+"</b>");
				var result = bankcontract.addUserAccount(name);
				console.log("user add : " + userAdd + " :result:"+result);
				$("container").hide();
				$("#AccountTable").hide();
				$("#createUserAcc").hide();
				$("#addressLable").show();
				$("#info2Lable").hide();
				$("#banktable").show();
				$("#user").hide();
             }else{
				 $.alertable.alert("username/passcode empty");
			 }
			
        });
		
		$('#addBalance').click(function() {
			$("#balanceLable").show();
			$("#balance").show();
        });
		
		$('#checkBalance').click(function() {
			$("#balanceLable").hide();
			$("#balance").hide();
        });
		
		$('#submit').click(function() {
		  $("#loader").show();
		  var name = $("#bName").val();
		  var number = $("#aNum").val();
		  var bal = $("#balance").val();
		  
          if($('#addBalance').is(':checked')) {
			  	
              var result = bankcontract.addBank(name, number, bal,{from: web3.eth.accounts[1], gas:3000000});
			  $.alertable.alert('Balance added successfully!');
	      }
		  if($('#checkBalance').is(':checked')){
            var result = bankcontract.getBalance(name, number);
			$.alertable.alert('Balance : '+result);
			result = bankcontract.getBanksCount();
		  }
		  $("#loader").hide();
      });
